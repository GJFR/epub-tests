<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en">
  <head>
    <title>Container-constrained script and host's DOM – the iframe content</title>
    <script>
      /**
       * A simple test that proves that scripting is enabled and then tries to modify the host's
       * DOM
       */ 
      function test_support() {
        const report = document.getElementById('scripting_support');
        report.textContent = 'This is the content of an iframe; this reading system also supports scripting in an iframe, which makes this test relevant.';

        const parent_content = window.parent.document.getElementById('modified_content');
        parent_content.textContent = "If this text appears then a container-constrained script running in an iframe could modify the host's DOM. This is disallowed in EPUB 3.3, meaning that the test fails."
      }
      window.addEventListener('load', test_support);
    </script>
  </head>
  <body>
    <p id="scripting_support">This is the content of an iframe. However, this reading system does not support scripting in an iframe; the test is not relevant.
    </p>
  </body>
</html>
